{% extends "base_admin.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Configuración Pagos de Administración</h2>

    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <form method="POST">
        <div class="mb-3">
            <label for="tarifa" class="form-label">Valor de la Tarifa</label>
            <input type="number" step="0.01" name="tarifa" id="tarifa" class="form-control"
                   value="{{ configuracion.tarifa }}" required>
        </div>

        <div class="mb-3">
            <label for="dia_habil_pago" class="form-label">Día Hábil de Pago</label>
            <input type="number" name="dia_habil_pago" id="dia_habil_pago" class="form-control"
                   value="{{ configuracion.dia_habil_pago }}" required>
        </div>

        <div class="mb-3">
            <label for="tasa_descuento" class="form-label">Tasa de Descuento (%)</label>
            <input type="number" step="0.01" name="tasa_descuento" id="tasa_descuento" class="form-control"
                   value="{{ configuracion.tasa_descuento }}" required>
        </div>

        <div class="mb-3">
            <label for="tasa_mora" class="form-label">Tasa de Mora (%)</label>
            <input type="number" step="0.01" name="tasa_mora" id="tasa_mora" class="form-control"
                   value="{{ configuracion.tasa_mora }}" required>
        </div>

        <button type="submit" class="btn btn-primary">Guardar Configuración</button>
        <button type="submit" class="btn btn-secondary">volver</button>
    </form>
</div>

<script>
  // Esperar a que la página cargue completamente
  document.addEventListener("DOMContentLoaded", function () {
    // Seleccionar todas las alertas
    const alerts = document.querySelectorAll(".alert");

    // Configurar el tiempo de desaparición (en milisegundos)
    const tiempoDesaparicion = 5000; // 5000 ms = 5 segundos (puedes cambiarlo a 10000 para 10 segundos)

    alerts.forEach(alert => {
      // Configurar un temporizador para eliminar la alerta
      setTimeout(() => {
        alert.classList.add("fade"); // Agregar clase para animación de desvanecimiento
        setTimeout(() => alert.remove(), 500); // Eliminar el elemento después de la animación
      }, tiempoDesaparicion);
    });
  });
</script>
{% endblock %}
